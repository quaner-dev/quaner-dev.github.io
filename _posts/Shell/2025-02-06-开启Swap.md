---
layout: post
title: 开启Swap
date: 2025-02-06
tags: Swap
categories: Ubuntu
---

## 开启 swap 并永久生效

```bash
# 创建swap文件
fallocate -l 5G /swapfile

# 修改swapfile权限
chmod 600 /swapfile

# 设置swap文件
mkswap /swapfile

# 启用swap文件
swapon /swapfile

# 验证swap是否激活
swapon --show

# 添加swap到fstab中永久生效
echo '/swapfile none swap sw 0 0' | tee -a /etc/fstab

# 设定swap配置并永久生效
echo 'vm.swappiness=100' | tee -a /etc/sysctl.conf
```
