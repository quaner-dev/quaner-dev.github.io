---
layout: post
title: Ubuntu 防止合笔记本后挂起
date: 2025-04-16
tags: Systemd
categories: Ubuntu
---

## 简介

合上笔记本盖子时，Ubuntu 默认会挂起系统。若你希望合盖继续运行（例如外接显示
器或远程登录），可以通过修改 `systemd-logind` 的配置实现。

## 编辑 logind.conf

```bash
sudo vim /etc/systemd/logind.conf
```

## 将以下参数修改为 ignore

```bash
HandleLidSwitch=ignore
HandleLidSwitchExternalPower=ignore
HandleLidSwitchDocked=ignore
```

如果文件里已有这些行，直接改值即可。建议保留注释，方便回滚。

## 重启 systemd-logind 服务

```bash
sudo systemctl restart systemd-logind
```

## 验证是否生效

合上盖子后观察系统是否保持运行，或用以下命令查看当前状态：

```bash
loginctl show-logind | rg HandleLidSwitch
```

## 还原默认行为

将上述三项改回 `suspend`，然后重启 `systemd-logind` 即可。
