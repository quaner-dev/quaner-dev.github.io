<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <h1 id="docker-安装">Docker 安装</h1> <h2 id="install-docker-engine-on-ubuntu">Install Docker Engine on Ubuntu</h2> <h3 id="uninstall-old-version-docker">uninstall old version docker</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span>pkg <span class="k">in </span>docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc<span class="p">;</span> <span class="k">do </span><span class="nb">sudo </span>apt-get remove <span class="nv">$pkg</span><span class="p">;</span> <span class="k">done</span>
</code></pre></div></div> <h3 id="add-dockers-official-gpg-key">Add Docker’s official GPG key</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>ca-certificates curl
<span class="nb">sudo install</span> <span class="nt">-m</span> 0755 <span class="nt">-d</span> /etc/apt/keyrings
<span class="nb">sudo </span>curl <span class="nt">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg <span class="nt">-o</span> /etc/apt/keyrings/docker.asc
<span class="nb">sudo chmod </span>a+r /etc/apt/keyrings/docker.asc
</code></pre></div></div> <h3 id="add-the-repository-to-apt-sources">Add the repository to Apt sources</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="se">\</span>
  <span class="s2">"deb [arch=</span><span class="si">$(</span>dpkg <span class="nt">--print-architecture</span><span class="si">)</span><span class="s2"> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu </span><span class="se">\</span><span class="s2">
  </span><span class="si">$(</span><span class="nb">.</span> /etc/os-release <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$VERSION_CODENAME</span><span class="s2">"</span><span class="si">)</span><span class="s2"> stable"</span> | <span class="se">\</span>
  <span class="nb">sudo tee</span> /etc/apt/sources.list.d/docker.list <span class="o">&gt;</span> /dev/null
<span class="nb">sudo </span>apt-get update
</code></pre></div></div> <h3 id="install-the-docker-packages">Install the Docker packages</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre></div></div> <h2 id="uninstall-docker-engine">Uninstall Docker Engine</h2> <h3 id="uninstall-the-docker-engine-cli-containerd-and-docker-compose-packages">Uninstall the Docker Engine, CLI, containerd, and Docker Compose packages</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get purge docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras
</code></pre></div></div> <h3 id="images-containers-volumes-or-custom-configuration-files-on-your-host-arent-automatically-removed-to-delete-all-images-containers-and-volumes">Images, containers, volumes, or custom configuration files on your host aren’t automatically removed. To delete all images, containers, and volumes</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo rm</span> <span class="nt">-rf</span> /var/lib/docker
<span class="nb">sudo rm</span> <span class="nt">-rf</span> /var/lib/containerd
</code></pre></div></div> <h3 id="remove-source-list-and-keyrings">Remove source list and keyrings</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo rm</span> /etc/apt/sources.list.d/docker.list
<span class="nb">sudo rm</span> /etc/apt/keyrings/docker.asc
</code></pre></div></div> </body></html>