<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <h1 id="检查硬件情况">检查硬件情况</h1> <h2 id="cpu">CPU</h2> <h3 id="cpu-检查命令">CPU 检查命令</h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lscpu
</code></pre></div></div> <h3 id="lscpu-结果解释">lscpu 结果解释</h3> <table> <thead> <tr> <th>结果</th> <th>解释</th> </tr> </thead> <tbody> <tr> <td>Architecture</td> <td>架构</td> </tr> <tr> <td>CPU op-mode(s)</td> <td>运行方式</td> </tr> <tr> <td>Byte Order</td> <td>字节顺序</td> </tr> <tr> <td>CPU(s)</td> <td>逻辑 cpu 数</td> </tr> <tr> <td>On-line CPU(s) list</td> <td>在线 cpu</td> </tr> <tr> <td>Thread(s) per core</td> <td>每个核包含线程数（在 linux 中线程等于逻辑 cpu，即运行程序的最小物理单元）</td> </tr> <tr> <td>Core(s) per socket</td> <td>每个 CPU 插槽（或物理 CPU 器件）包含核心数</td> </tr> <tr> <td>Socket(s)</td> <td>主板上 CPU 插槽数（或物理 CPU 器件数量）</td> </tr> <tr> <td>NUMA node(s)</td> <td>代表内存架构，是 Non-uniform memory access 的缩写，这里代表 2 个内存控制器，但是 NUMA node 和 socket 不是直接对应的，具体布局见最后两个参数，每个主板的布局可能不同</td> </tr> <tr> <td>Vendor ID</td> <td>CPU 厂商 ID</td> </tr> <tr> <td>CPU family</td> <td>CPU 系列</td> </tr> <tr> <td>Model</td> <td>型号编号</td> </tr> <tr> <td>Model name</td> <td>型号名称</td> </tr> <tr> <td>Stepping</td> <td>步进</td> </tr> <tr> <td>CPU MHz</td> <td>默认主频</td> </tr> <tr> <td>CPU max MHz</td> <td>最大超频</td> </tr> <tr> <td>CPU min MHz</td> <td>最小频率</td> </tr> <tr> <td>Virtualization</td> <td>CPU 支持的虚拟化技术</td> </tr> <tr> <td>L1d cache</td> <td>一级数据缓存</td> </tr> <tr> <td>L1i cache</td> <td>一级指令缓存</td> </tr> <tr> <td>L2 cache</td> <td>二级缓存</td> </tr> <tr> <td>L3 cache</td> <td>三级缓存</td> </tr> <tr> <td>NUMA node0 CPU(s)</td> <td>逻辑 cpu0-28 和 48-71 在 NUMA node0 上</td> </tr> <tr> <td>NUMA node1 CPU(s)</td> <td>逻辑 cpu24-47 和 72-95 在 NUMA node1 上</td> </tr> </tbody> </table> <h2 id="查看系统信息">查看系统信息</h2> <h3 id="系统检查命令">系统检查命令</h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> /etc/os-release
</code></pre></div></div> <h3 id="结果解释">结果解释</h3> <table> <thead> <tr> <th>结果</th> <th>解释</th> </tr> </thead> <tbody> <tr> <td>NAME</td> <td>操作系统名称</td> </tr> <tr> <td>VERSION</td> <td>版本信息</td> </tr> <tr> <td>ID</td> <td>系统 ID</td> </tr> <tr> <td>ID_LIKE</td> <td>类似系统 ID</td> </tr> <tr> <td>PRETTY_NAME</td> <td>友好名称</td> </tr> <tr> <td>VERSION_ID</td> <td>版本 ID</td> </tr> <tr> <td>HOME_URL</td> <td>官方网站链接</td> </tr> <tr> <td>SUPPORT URL</td> <td>技术支持链接</td> </tr> <tr> <td>BUG_REPORT_URL</td> <td>错误报告链接</td> </tr> <tr> <td>PRIVACY_POLICY_URL</td> <td>隐私政策链接</td> </tr> <tr> <td>VERSION_CODENAME</td> <td>版本代号</td> </tr> <tr> <td>UBUNTU_CODENAME</td> <td>UBUNTU 版本代号</td> </tr> </tbody> </table> <h2 id="查看内存信息">查看内存信息</h2> <h3 id="free-检查命令">free 检查命令</h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>free <span class="nt">-h</span>
</code></pre></div></div> <h3 id="free-结果解释">free 结果解释</h3> <table> <thead> <tr> <th>结果</th> <th>解释</th> </tr> </thead> <tbody> <tr> <td>total</td> <td>表示系统的总内存</td> </tr> <tr> <td>used</td> <td>表示已经被应用程序使用的内存</td> </tr> <tr> <td>free</td> <td>表示当前还没有被使用的内存</td> </tr> <tr> <td>shared</td> <td>表示进程共享的内存</td> </tr> <tr> <td>buffers/cache</td> <td>表示被用作缓冲和缓存的内存。这部分内存是为了提高磁盘存取效率而被占用的，当应用程序需要使用内存时，这部分内存可以被快速回收</td> </tr> <tr> <td>Swap</td> <td>表示交换分区（swap space）的使用情况。当物理内存不足时，系统会使用交换分区来扩展可用内存</td> </tr> </tbody> </table> <h2 id="raid-情况">Raid 情况</h2> <h3 id="storcli64-检查命令">storcli64 检查命令</h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/opt/MegaRAID/storcli/storcli64 /c0 show all
</code></pre></div></div> <h3 id="storcli64-结果解释">storcli64 结果解释</h3> <table> <thead> <tr> <th> </th> <th> </th> </tr> </thead> <tbody> <tr> <td>Controller Name</td> <td>控制器的名称，例如 “MegaRAID SAS 9261-4i”</td> </tr> <tr> <td>Firmware Version</td> <td>控制器的固件版本号</td> </tr> <tr> <td>Serial Number</td> <td>控制器的序列号</td> </tr> <tr> <td>Physical Slot</td> <td>控制器所在的物理插槽位置</td> </tr> <tr> <td>PCI Bus/Device/Function</td> <td>控制器的 PCI 总线、设备、功能的详细信息</td> </tr> <tr> <td>Total Memory</td> <td>控制器上安装的总内存大小</td> </tr> <tr> <td>Free Memory</td> <td>当前未使用的内存大小</td> </tr> <tr> <td>Bus Speed</td> <td>总线的速度，例如 “6Gb/s”</td> </tr> <tr> <td>Device Count</td> <td>连接到控制器的设备数量</td> </tr> <tr> <td>Physical Disks</td> <td>显示所有连接到控制器的物理磁盘的信息，包括磁盘的型号、序列号、容量、状态等。</td> </tr> <tr> <td>Virtual Disks</td> <td>显示所有由控制器管理的虚拟磁盘的信息，包括 RAID 级别、状态、总容量、已用空间和可用空间等。</td> </tr> <tr> <td>Alarm and Event History</td> <td>显示有关控制器报警和历史事件的信息，例如故障磁盘、风扇问题等。</td> </tr> <tr> <td>Other Properties</td> <td>其他与控制器相关的属性，如最大连接设备数、最大传输大小等。</td> </tr> <tr> <td>Peripheral Information</td> <td>显示连接到控制器的其他外围设备的信息，例如连接的扩展卡、外部电缆等。(如果可用)</td> </tr> <tr> <td>Command Line Properties</td> <td>提供有关控制器命令行属性的信息，例如允许执行的命令等。(如果可用)</td> </tr> <tr> <td>OEM Information</td> <td>提供与特定制造商相关的附加信息。这可能包括特定的驱动程序信息、保修信息等。 (如果可用)</td> </tr> <tr> <td>Firmware Update Properties</td> <td>提供有关固件更新的信息，例如可用的固件版本、更新状态等。(如果可用)</td> </tr> <tr> <td>Controller Recovery and Boot Properties</td> <td>提供有关控制器恢复和引导属性的信息，例如启动顺序、故障转移设置等。(如果可用)</td> </tr> </tbody> </table> <h2 id="磁盘信息">磁盘信息</h2> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lsblk <span class="c"># 检查文件系统挂载情况</span>
<span class="nb">df</span> <span class="nt">-h</span> <span class="c"># 检查磁盘使用率</span>
</code></pre></div></div> <h2 id="磁盘读写速度测试">磁盘读写速度测试</h2> <h3 id="测试硬盘读速度">测试硬盘读速度</h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hdparm <span class="nt">-tT</span> /dev/sda
</code></pre></div></div> <h3 id="测试硬盘写速度">测试硬盘写速度</h3> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">dd </span><span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/tmp/test <span class="nv">bs</span><span class="o">=</span>50M <span class="nv">count</span><span class="o">=</span>50 <span class="nv">conv</span><span class="o">=</span>fdatasync <span class="c"># 修改of文件（outfile）用于测试不同硬盘写速度，并将生成的空文件删除</span>
</code></pre></div></div> </body></html>