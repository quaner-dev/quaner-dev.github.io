<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <h1 id="二进制部署-docker">二进制部署 Docker</h1> <h2 id="install-static-binaries">Install static binaries</h2> <ol> <li> <p>Download the static binary archive. Go to <a href="https://download.docker.com/linux/static/stable/" rel="external nofollow noopener" target="_blank">https://download.docker.com/linux/static/stable/</a>, choose your hardware platform, and download the <code class="language-plaintext highlighter-rouge">.tgz</code> file relating to the version of Docker Engine you want to install.</p> </li> <li> <p>Extract the archive using the <code class="language-plaintext highlighter-rouge">tar</code> utility. The <code class="language-plaintext highlighter-rouge">dockerd</code> and <code class="language-plaintext highlighter-rouge">docker</code> binaries are extracted.</p> <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">tar </span>xzvf /path/to/FILE.tar.gz
</code></pre></div> </div> </li> <li> <p>Optional: Move the binaries to a directory on your executable path, such as <code class="language-plaintext highlighter-rouge">/usr/bin/</code>. If you skip this step, you must provide the path to the executable when you invoke <code class="language-plaintext highlighter-rouge">docker</code> or <code class="language-plaintext highlighter-rouge">dockerd</code> commands.</p> <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sudo cp </span>docker/<span class="k">*</span> /usr/bin/
</code></pre></div> </div> </li> <li> <p>Start the Docker daemon:</p> <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>dockerd &amp;
</code></pre></div> </div> <p>If you need to start the daemon with additional options, modify the above command accordingly or create and edit the file <code class="language-plaintext highlighter-rouge">/etc/docker/daemon.json</code> to add the custom configuration options.</p> </li> <li> <p>Verify that Docker is installed correctly by running the <code class="language-plaintext highlighter-rouge">hello-world</code> image.</p> <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>docker run hello-world
</code></pre></div> </div> <p>This command downloads a test image and runs it in a container. When the container runs, it prints a message and exits.</p> </li> </ol> <p>You have now successfully installed and started Docker Engine.</p> <h2 id="configure-docker-to-start-on-boot-with-systemd">Configure Docker to start on boot with systemd</h2> <p>Many modern Linux distributions use <a href="https://docs.docker.com/config/daemon/systemd/" rel="external nofollow noopener" target="_blank">systemd</a> to manage which services start when the system boots. On Debian and Ubuntu, the Docker service starts on boot by default. To automatically start Docker and containerd on boot for other Linux distributions using systemd, run the following commands:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker.service
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>containerd.service
</code></pre></div></div> <p>To stop this behavior, use <code class="language-plaintext highlighter-rouge">disable</code> instead.</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl disable docker.service
<span class="nb">sudo </span>systemctl disable containerd.service
</code></pre></div></div> <p>If you need to add an HTTP proxy, set a different directory or partition for the Docker runtime files, or make other customizations, see <a href="https://docs.docker.com/config/daemon/systemd/" rel="external nofollow noopener" target="_blank">customize your systemd Docker daemon options</a>.</p> <h2 id="manually-create-the-systemd-unit-files">Manually create the systemd unit files</h2> <p>When installing the binary without a package manager, you may want to integrate Docker with systemd. For this, install the two unit files (service and socket) from <a href="https://github.com/moby/moby/tree/master/contrib/init/systemd" rel="external nofollow noopener" target="_blank">the GitHub repository</a> to /etc/systemd/system.</p> <h3 id="systemd-unit-files">systemd unit files</h3> <ul> <li><a href="https://github.com/moby/moby/blob/master/contrib/init/systemd/docker.service" rel="external nofollow noopener" target="_blank">docker.service</a></li> <li><a href="https://github.com/moby/moby/blob/master/contrib/init/systemd/docker.socket" rel="external nofollow noopener" target="_blank">docker.socket</a></li> </ul> </body></html>